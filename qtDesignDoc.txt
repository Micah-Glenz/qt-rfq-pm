Quote Tracker - Design Document
1. Overview
Quote Tracker is a web application designed to help businesses manage and track sales quotes. It provides a streamlined interface for creating, editing, and monitoring quotes throughout their lifecycle, with features to track tasks, vendor quotes, and notes associated with each quote.
2. Technology Stack

Backend: Python with Flask framework
Database: SQLite - lightweight file-based database
Frontend: HTML, CSS (TailwindCSS), JavaScript
UI Enhancements: Modern JavaScript for dynamic content loading, Sortable.js for drag-and-drop functionality

3. Data Model
Database Schema
quotes
sqlCREATE TABLE quotes (
  id          INTEGER PRIMARY KEY AUTOINCREMENT,
  customer    TEXT NOT NULL,
  quote_no    TEXT NOT NULL UNIQUE,
  description TEXT,
  sales_rep   TEXT,
  created_at  DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);
tasks
sqlCREATE TABLE tasks (
  id          INTEGER PRIMARY KEY AUTOINCREMENT,
  quote_id    INTEGER NOT NULL,
  label       TEXT NOT NULL,
  done        BOOLEAN DEFAULT 0,
  is_separator BOOLEAN DEFAULT 0,
  FOREIGN KEY(quote_id) REFERENCES quotes(id) ON DELETE CASCADE
);
vendor_quotes
sqlCREATE TABLE vendor_quotes (
  id         INTEGER PRIMARY KEY AUTOINCREMENT,
  quote_id   INTEGER NOT NULL,
  type       TEXT CHECK(type IN ('freight','install')) NOT NULL,
  vendor     TEXT NOT NULL,
  requested  BOOLEAN DEFAULT 0,
  entered    BOOLEAN DEFAULT 0,
  notes      TEXT,
  date       DATE,
  FOREIGN KEY(quote_id) REFERENCES quotes(id) ON DELETE CASCADE
);
notes
sqlCREATE TABLE notes (
  id        INTEGER PRIMARY KEY AUTOINCREMENT,
  quote_id  INTEGER NOT NULL,
  content   TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY(quote_id) REFERENCES quotes(id) ON DELETE CASCADE
);
default_tasks
sqlCREATE TABLE default_tasks (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  label TEXT NOT NULL,
  sort_order INTEGER DEFAULT 0,
  is_separator BOOLEAN DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
4. User Interface
The application has a dual-pane layout:
Left Pane (40% width by default)

List of quotes with search functionality
Each quote item shows:

Quote number
Customer name
Description (truncated if long)
Sales rep
Preview statistics (tasks, vendor quotes, notes)


Add New Quote button
Settings button

Right Pane (60% width by default)

Detailed view and edit form for the selected quote
Resizable via a draggable divider between panes

Modals

New Quote Modal

Form to create a new quote with basic details
Auto-populates with default tasks when created


Settings Modal

Manage default tasks that are added to new quotes
Drag-and-drop reordering of tasks
Add/remove tasks and separators



5. Core Functionality
Quote Management

Create, view, edit, and delete quotes
Each quote has a unique quote number, customer, optional description, and sales rep
Search quotes by any field

Task Tracking

Add checklist items to each quote
Mark tasks as complete/incomplete
Add visual separators for grouping tasks
Configure default tasks that are applied to all new quotes

Vendor Quote Tracking

Track two types of vendor quotes: freight and installation
Each vendor quote includes:

Vendor name
Request status
Entry status
Date
Notes



Notes

Add multiple notes to each quote
Notes are timestamped when created
Display notes in reverse chronological order (newest first)

Settings

Configure default tasks that are automatically added to new quotes
Arrange task order via drag-and-drop interface
Add separators for visual organization

UI Features

Responsive design that adapts to screen size
Resizable panes via draggable divider
Auto-save functionality when editing quotes
AJAX loading for smooth user experience
Toast notifications for user feedback

6. User Workflows
Creating a Quote

User clicks "New Quote" button
Modal appears with form for basic quote details
User fills in required fields and submits
New quote is created with default tasks
User is redirected to the edit view for the new quote

Editing a Quote

User selects a quote from the list
Quote details load in right pane
User can edit any field, add/remove tasks, vendor quotes, or notes
Changes are auto-saved as user types or can be explicitly saved
Preview statistics update after saving

Searching Quotes

User enters search term in search box
List filters to show only matching quotes
Clear button resets the search

Configuring Default Tasks

User clicks Settings button
Modal shows current default tasks
User can add, remove, or reorder tasks and separators
Changes apply to new quotes after saving

7. Technical Implementation Details
Database Access

Centralized database connection handling via context manager
Consistent error handling and transaction management

Frontend Organization

Separation of concerns with modular JavaScript
Dynamic content loading and partial page updates
Form handling with proper validation and feedback

UX Enhancements

Auto-save functionality to prevent data loss
Drag-and-drop sorting for intuitive ordering
Visual feedback for actions via toast messages
Optimistic UI updates for responsive feel

This design document provides a comprehensive overview of the Quote Tracker application, covering its data model, user interface, functionality, and implementation details. It serves as a guide for development and maintenance, ensuring that all aspects of the application are properly documented and understood.